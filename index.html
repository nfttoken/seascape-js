<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sample of seascape usage</title>
    <script src="/seascape.js"></script>
    <script>
      let printApy = async function(){
	  let lpMining = seascape.gameById(1);	  
	  await lpMining.loadContracts();	  
    
	  // lp token address is a pair CWS-ETH on uniswap	  
	  let lpToken = "0xdc935332d39a4c632864dbbed3cfdbf049fb9267";	  

	  let cwsAddress = "0x168840Df293413A930d3D40baB6e1Cd8F406719D";	  
           
	  let sessionId = await lpMining.setSessionId(lpToken);	  
    
	  let session = await lpMining.setSession(sessionId);	  

	  // finally, can show APY	  
	  let prices = await seascape.cws.getPrice(lpMining.networkId, cwsAddress);	  

	  let apy = await lpMining.setApy(session, prices.cws);	  
	  console.log(`APY: ${apy} %`);

	  var para = document.createElement("p");
	  var node = document.createTextNode(`APY: ${apy} %`);	  
	  para.appendChild(node);
	  	  
	  document.body.appendChild(para);	  
      };      

      printApy();      

    </script>
  </head>
  <body>

  </body>  
</html>
